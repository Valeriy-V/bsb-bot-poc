<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–°–∫–∞–Ω–µ—Ä —à—Ç—Ä–∏—Ö-–∫–æ–¥—ñ–≤</title>
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #f2f2f2;
        }
        #reader {
            width: 100%;
            max-width: 320px;
            margin: auto;
        }
        h2 {
            color: #333;
        }
    </style>
</head>
<body>
<h2>–°–∫–∞–Ω—É–π—Ç–µ —à—Ç—Ä–∏—Ö-–∫–æ–¥ üì∑</h2>
<div id="reader"></div>

<script>
    const telegram = window.Telegram.WebApp;
    telegram.ready();

    function onScanSuccess(decodedText, decodedResult) {
        console.log(`–ó—á–∏—Ç–∞–Ω–æ –∫–æ–¥: ${decodedText}`);
        telegram.sendData(decodedText);
        telegram.close();
    }

    function onScanFailure(error) {
        console.warn(`–ü–æ–º–∏–ª–∫–∞: ${error}`);
    }

    const html5QrcodeScanner = new Html5QrcodeScanner(
        "reader",
        { fps: 10, qrbox: { width: 250, height: 250 },
            experimentalFeatures: {
                useBarCodeDetectorIfSupported: true // –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–µ—Ç–µ–∫—Ç–æ—Ä —à—Ç—Ä–∏—Ö–∫–æ–¥—ñ–≤
            },
            supportedScanTypes: [ Html5QrcodeScanType.SCAN_TYPE_CAMERA ] }
    );
    html5QrcodeScanner.render(onScanSuccess, onScanFailure);
</script>
</body>
</html>
